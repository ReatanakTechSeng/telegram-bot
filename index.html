<form id="dataForm">
  <label>Name</label>
  <input type="text" name="name" required>

  <label>Email</label>
  <input type="email" name="email" required>

  <button type="submit">Submit</button>
</form>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
  const tg = window.Telegram.WebApp

  document
    .getElementById("dataForm")
    .addEventListener("submit", async (e) => {
      e.preventDefault()
      const formData = new FormData(e.target)
      const payload = Object.fromEntries(formData)

      // Send to your server
      await fetch("https://your-server.com/collect", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          user: tg.initDataUnsafe.user,
          data: payload,
        })
      })

      tg.sendData(JSON.stringify(payload))
    })
</script>